var bepns=bepns||function(n,t){function kt(){var n=this;sj_be(_w,"message",ri,!1);dt();sj_be(e,"click",ut,!1);sj_evt.bind("AutoOpenFlyout",function(){p=!0;a||!a&&fi()>=1200?c(r,"b_hide")?rt(n.evt,!1):v=wt:v=bt;v&&LightLogger.logInstrumentationV2(null,LightLogger.InstrumentationEventType.Init,pt,!0,{SuppressionReason:v})},!0);sj_evt.bind("AutoOpenFlyoutHide",function(){i&&s(null,!0,!1)},!0);sj_evt.bind(k,ii);sj_evt.bind("onP1",ti,1);sj_evt.bind("id:refreshed",gt,1);window.addEventListener("click",function(){o(f,"b_hide")})}var ot="redDotControl",st="rh_meter_leaf_homepage",ht="rh_meter_leaf",ct="givemuid_heart_homepage",lt="GiveMuid",at="GiveSerp",vt="hub_apps_698b01b4-557a-4a3b-9af7-a7e8138e8372",yt="SUCCESS",pt="AutoOpenFlyoutSuppression",wt="BepFlyoutMissingOrNotHidden",bt="InvalidPageWidth",y=700,b=320,k="onPopTR",d="bepfo",p=!1,f,u,h,r,i,e=n("id_rh"),a=typeof _H!="undefined",v="",dt=function(){var i=n("id_rwl");i&&(r=n("bepfo"),r||(i=n("id_rwl"),i&&(r=t("div"),r.id="bepfo",r.className="b_hide",i.parentNode&&i.parentNode.insertBefore(r,i.nextSibling))),f||(f=t("div"),f.id="rewardsPanelContainer",f.className="b_hide",i.parentNode&&i.parentNode.insertBefore(f,r.nextSibling),h=t("div"),h.id="rewardsLoadingAnimation",h.setAttribute("size","extraLarge"),h.setAttribute("class","extraLarge"),f.appendChild(h)))},gt=function(){ni(_ge("idd_rwds"),_ge("idd_rwdstrial"))},ni=function(n,t){n&&t&&(t.href=n.href,n.h?t.h=n.h:n.getAttribute&&n.getAttribute("h")&&t.setAttribute("h",n.getAttribute("h")))},ti=function(){var n=0,t=setInterval(function(){e&&e.offsetWidth>0&&e.offsetHeight>0?(clearInterval(t),sj_evt.fire("bepready",et)):n==80&&clearInterval(t);n++},400)},g=function(){var a=_w.location.href,u=_w.location.search.substr(1),n,e,t,o,i,s,r,h;try{e=/(^|&)isDarkMode=([^&]*)(?:&|$)/i;n=e.exec(u);document.body.classList.contains("b_dark")&&(n=["isDarkMode","1"])}catch(w){n=undefined}try{o=/(?:^|&)hvaName=([^&]*)(?:&|$)/i;t=o.exec(u)}catch(b){t=undefined}try{s=/(?:^|&)partnerId=([^&]*)(?:&|$)/i;i=s.exec(u)}catch(k){i=undefined}try{h=/(?:^|&)features=([^&]*)(?:&|$)/i;r=h.exec(u)}catch(d){r=undefined}var f=new Date,c=f.getDate(),l=f.getMonth()+1,v="".concat(l<10?"0":"").concat(l,"/").concat(c<10?"0":"").concat(c,"/").concat(f.getFullYear()),y=i&&i[1]?i[1]:"BingRewards",p="/rewards/panelflyout?partnerId="+y+"&date="+v+(r&&r[1]?"&features="+r[1]:"")+(t&&t[1]?"&hvaName="+t[1]:"")+(n&&n[1]?"&isDarkMode="+n[1]:"")+"&ru="+encodeURIComponent(a);return{src:p,darkMode:n}},nt=function(){var i=n("id_rwl"),r;f&&(r=g(),u||(u=t("iframe"),u.title=i===null||i===void 0?void 0:i.getAttribute("data-title"),u.id="panelFlyout",u.frameBorder="no",u.scrolling="no",u.src=r.src,f.appendChild(u),l(f,"b_hide"),u===null||u===void 0?void 0:u.addEventListener("load",function(){o(h,"b_hide");r.darkMode&&o(f,"darkMode")},!1)))},tt=function(n){u&&u.contentWindow.postMessage({action:"visibility",isVisible:n},"*")},ii=function(n){n[1]!==d&&s()},ri=function(n){var h=u&&u.contentWindow&&n.source==u.contentWindow&&n.data,c=i&&i.contentWindow&&n.source==i.contentWindow&&n.data,l,f,e,t,a,o;if(h)switch(n.data.action){case"closeFlyout":l=_ge("rewardsPanelContainer");l&&s(null,!1,!0)}if(c)switch(n.data.action){case"resize":f=n.data.bodyHeight&&parseFloat(n.data.bodyHeight);e=n.data.bodyWidth&&parseFloat(n.data.bodyWidth);f&&!isNaN(f)?(i.height=Math.min(f,y),r.style.height=i.height+"px"):(i.height=Math.min(i.contentWindow.document.body.scrollHeight,y),r.style.height=i.height+"px");e&&!isNaN(e)?(t=Math.min(e,b)+"px",i.style.width=t,r.style.width=t):(t=b+"px",i.style.width=t,r.style.width=t);break;case"refresh":i&&(a=g(),i.src=a.src);break;case"close":i&&s(null,!0,!1)}if(c||h)switch(n.data.action){case"updatePoints":RewardsCreditRefresh&&(o=RewardsCreditRefresh.GetRewardsHeaderBalance(),o!=n.data.newBal&&(RewardsCreditRefresh.SetRewardsHeaderBalance(n.data.newBal),RewardsCreditRefresh.RewardsHeaderAnim(o,n.data.newBal,n.data.goal,n.data.incr)));break;case"redDotControl":sj_evt.fire(ot,!0)}},it=function(){i=t("iframe");i.id="bepfm";i.frameBorder="no";i.scrolling="no";i.height=0;r.appendChild(i);r.style.visibility="hidden";r.style.height="100%";sj_be(i,"load",function(){r.style.visibility="visible";i.height=Math.min(i.contentWindow.document.body.scrollHeight,y);r.style.height=i.height+"px";i&&i.contentWindow&&sj_be(i.contentWindow.document,"keyup",w,!0);o(r,"popup")},!1);var n=ui();i.src=n.src;n.isDarkMode&&o(r,"darkMode")},ui=function(){var i=_w.location.search.substr(1),s=/(^|&)rewardstesthooks=1(&|$)/i.exec(i),r=/(?:^|&)rewardsbag=([^&]*)(?:&|$)/i.exec(i),u=undefined,h,t,c,n,l,o;try{h=/(^|&)uncrunched=1(&|$)/i;u=h.exec(i)}catch(w){u=undefined}t=undefined;try{c=/(^|&)isDarkMode=1(&|$)/i;t=c.exec(i)}catch(b){t=undefined}n=undefined;try{l=/(?:^|&)partnerId=([^&]*)(?:&|$)/i;n=l.exec(i)}catch(k){n=undefined}var f=new Date,a=f.getDate(),v=f.getMonth()+1,y=(v<10?"0":"")+v+"/"+(a<10?"0":"")+a+"/"+f.getFullYear(),p="/rewardsapp/flyout?channel=2",e;return!n&&_ge?(o="",_ge(st)||_ge(ht)||_ge(ct)?o=lt:(_ge("gwb_teal_heart")||_ge("gwb_header_wrapper"))&&(o=at),e=p+"&partnerId=AutoOpenFlyout&date="+y+(s&&r?"&atlahostname=localhost&bag="+r[1]:"")+(u?"&uncrunched=1":"")+(t?"&isDarkMode=1":"")):e=p+(n&&n[1]?"&partnerId="+n[1]:"")+"&date="+y+(s&&r?"&atlahostname=localhost&bag="+r[1]:"")+(u?"&uncrunched=1":"")+(t?"&isDarkMode=1":""),{src:e,isDarkMode:t}},s=function(n,t,u){t===void 0&&(t=!0);u===void 0&&(u=!0);t&&(o(r,"b_hide"),l(e,"openfo"),i&&i.contentWindow&&sj_ue(i.contentWindow.document,"keyup",w,!0));u&&(o(f,"b_hide"),l(h,"b_hide"),tt(!1));a&&ft();sj_ue(_d,"click",s,!0);sj_ue(_d,"keyup",w,!0);n&&sj_sp(n);n&&sj_pd(n)},w=function(n){var u=n.which||n.keyCode,r=sj_et(n),t;if(u==27){s(n);e.focus();return}if(u==9&&r&&i){if(t=r.nodeName,t=="BODY"||t=="HTML"||t=="#document")return;i.contentWindow.document.body.contains(r)||s(n)}},rt=function(n,t){(sj_evt.fire("focusChange","bep"),t||c(f,"b_hide"))&&(!t&&r&&(l(r,"popup"),r.firstChild?p&&(r.removeChild(i),it(),p=!1):it(),l(r,"b_hide"),e.setAttribute("aria-expanded","true")),t&&f&&(u||nt(),tt(!0),l(f,"b_hide"),o(h,"b_hide")),o(e,"openfo"),sj_sp(n),sj_evt.fire(k,d))},fi=function(){return Math.max(_d.body.scrollWidth,_d.documentElement.scrollWidth,_d.body.offsetWidth,_d.documentElement.offsetWidth,_d.documentElement.clientWidth)},ut=function(n){ei(oi,n)},ei=function(n){for(var r,i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];if(r=typeof window!="undefined"&&typeof chrome!="undefined"&&typeof window.chrome.edgeMarketingPagePrivate!="undefined"&&typeof window.chrome.edgeMarketingPagePrivate.showFeatures=="function",!r){n.apply(void 0,i);return}window.chrome.edgeMarketingPagePrivate.showFeatures(vt,function(t){t!==yt&&n.apply(void 0,i)})},oi=function(n){if(c(f,"b_hide")&&c(r,"b_hide")){u||nt();rt(n,!0);return}if(!c(f,"b_hide")){s(n,!1,!0);return}c(r,"b_hide")||s(n,!0,!1)},o=function(n,t){n&&!c(n,t)&&(n.className+=" "+t)},ft=function(){l(e,"rigleamon")},l=function(n,t){if(c(n,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},c=function(n,t){if(n&&n.className){var i=" "+n.className+" ";return i.indexOf(" "+t+" ")!==-1}return!1},et=function(n){a&&(n&&n>0?si():ft())},si=function(){o(e,"rigleamon")},hi=function(){e&&sj_ue(e,"click",ut,!1)};return kt(),{sg:et,ubc:hi}}(_ge,sj_ce)